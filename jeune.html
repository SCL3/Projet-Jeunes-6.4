<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<head>
	<title>Page Jeune</title>
	<link rel="icon" type="image/png" href="Images/icone1.png">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script>  <!-- Script pour AJAX -->
		function connex(){  // Fonction connexion
			// Creation de l'instance (objet)
			if(window.XMLHttpRequest){  // On verifie si on est bien sur les nouvelles versions d'internet (Firefox, Safari, Chrome...)
				var xhr = new XMLHttpRequest();  // On cree une instance
			}
			else if (window.ActiveXObject){  // Sinon, on est sur les anciennes versions d'internet explorer (IE5, IE6)
				var xhr = new ActiveXObject("Microsoft.XMLHTTP");
			}
			
			// Traitement de la reponse
			xhr.onreadystatechange = function(){
				if(xhr.readyState === 4){  // L'etat 4 signifie que la demande est terminee et la reponse est prete
					if(xhr.status === 200){  // Le status de la requete est OK (404 signifie introuvable)
						//document.write(xhr.status + "  " + xhr.readyState);
						document.getElementById("texte1").innerHTML = "Recu !" + xhr.responseText;
					}
					else{
						document.write("Erreur code : " + xhr.status + "<br> Vous avez surement oublié de créer un serveur !");
						//document.getElementById("test").textContent = "Error code : " + xhr.status;
					}
				
				}
			};
			
			xhr.open("POST", "connexion_jeune.php", true);
			xhr.send();
		}

		function inscript(){  // Fonction inscription
			// Recuperation des donnees 
			var prenom = document.querySelector(".inscription input[name='prenom']").value;  // Selectione le premier element avec le selecteur ".inscription", input avec le nom="prenom	"
			var nom = document.querySelector(".inscription input[name='nom']").value;
			var email = document.querySelector(".inscription input[name='email']").value;
			var date = document.querySelector(".inscription input[name='date']").value;
			var mdp1 = document.querySelector(".inscription input[name='mdp1']").value;
			var mdp2 = document.querySelector(".inscription input[name='mdp2']").value;


			// Creation de l'instance (objet)
			if(window.XMLHttpRequest){  // On verifie si on est bien sur les nouvelles versions d'internet (Firefox, Safari, Chrome...)
				var xhr = new XMLHttpRequest();  // On cree une instance
			}
			else if (window.ActiveXObject){  // Sinon, on est sur les anciennes versions d'internet explorer (IE5, IE6)
				var xhr = new ActiveXObject("Microsoft.XMLHTTP");
			}
			
			// Traitement de la reponse
			xhr.onreadystatechange = function(){
				if(xhr.readyState === 4){  // L'etat 4 signifie que la demande est terminee et la reponse est prete
					if(xhr.status === 200){  // Le status de la requete est OK (404 signifie introuvable)
						//document.write(xhr.status + "  " + xhr.readyState);
						document.getElementById("texte2").innerHTML = xhr.responseText;
					}
					else{
						document.write("Erreur code : " + xhr.status + "<br> Vous avez surement oublié de créer un serveur !");
						//document.getElementById("test").textContent = "Error code : " + xhr.status;
					}
				
				}
			};
			
			xhr.open("POST", "inscription_jeune.php", true);  // Ouvre le fichier php, avec la méthode POST, en mode ASYNCHRONE
			xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");  // Définit l'entête de la requête HTTP

			// Prépare les données pour les envoyées à la page php sous forme de lien
			var donnee = "prenom=" + encodeURIComponent(prenom) + "&nom=" + encodeURIComponent(nom) + "&email=" + encodeURIComponent(email) 
			+ "&date=" + encodeURIComponent(date) + "&mdp1=" + encodeURIComponent(mdp1) + "&mdp2=" + encodeURIComponent(mdp2);
			// encode les donnees pour qu'elles soient envoyees
			xhr.send(donnee);  // null pour une requete get
		}


	</script>
</head>
<body>
	<header>
		<div class="rectangle">
			<a href="projet_jeunes_index.html"> <img class="logo" src="Images/icone1.png" alt="Logo" height="160" width="270"></a>
			<p class="titre" id="jeune">JEUNE</p> <br>
			<p class="phrase">Je donne de la valeur à mon engagement</p>
		</div>
	</header>

	<div class="menu">
		<ul>
			<li id=lien_jeune>JEUNE</li>
			<li><a href="referent.html" id="referent">RÉFÉRENT</a></li>
			<li><a href="consultant.html" id="consultant">CONSULTANT</a></li>
			<li><a href="partenaires.html" id="partenaires">PARTENAIRES</a></li>
		</ul>
	</div>

	<div class="contenu" id="jeune">
		<p> Décrivez votre expérience et mettez en avant ce que vous en avez retiré. </p>
		<div class="login_parent">
			<form class="login">
				<div class="connexion">
					<h2>Connexion</h2>
					Email : <input type="email" name="email" placeholder="Email" required><br>
					Mot de passe : <input type="password" name="mdp" placeholder="Mot de passe" required><br>
					<p id="texte1"> </p>
					<input type="button" name="connexion" value="Se connecter" onclick="connex()"><br>
				</div>
			</form>
			<div class="barre_milieu"></div>
			<form class="login">
				<div class="inscription">
					<h2> Inscription </h2>
					<label>Prénom : </label>
					<input type="text" name ="prenom" placeholder="Prénom" required/> <br>
					<label>Nom : </label>
					<input type="text" name ="nom" placeholder="Nom" required/> <br>
					<label>Email : </label>
					<input type="email" name ="email" placeholder="Email" required/> <br>
					<label> Date de naissance</label>
					<input type="date" name ="date" placeholder="" required/> <br>
					<label>Mot de Passe</label>
					<input type="password" name ="mdp1" placeholder="Mot de passe" required/> <br>
					<label>Confirmer votre Mot de Passe</label>
					<input type="password" name ="mdp2" placeholder="Confirmez le mot de passe" required/> <br>
					<p id="texte2"> </p>
					<input type="button" name="inscription" value="S'inscrire" onclick="inscript()"/>
				</div>
			</form>
		</div>
		
		<br>
	
	</div>

	</body>
</html>
